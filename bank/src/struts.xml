<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.1//EN" "http://struts.apache.org/dtds/struts-2.1.dtd">
<struts>

	<constant name="struts.objectfactory" value="spring" />

	<package name="default" extends="struts-default">
		<interceptors>
			<interceptor name="auth"
				class="com.neusoft.interceptor.AuthInterceptor"></interceptor>
			<interceptor-stack name="mystack">
				<interceptor-ref name="defaultStack"></interceptor-ref>
				<interceptor-ref name="auth"></interceptor-ref>
			</interceptor-stack>
		</interceptors>
		
		<default-action-ref name="defaultAction"></default-action-ref>
		<action name="defaultAction">
			<result>/sign_in.jsp</result>
		</action>
		<action name="userSignIn" class="com.neusoft.action.UserAction" method="signIn">		
			<result name="success">/WEB-INF/jsp/main.jsp</result>
			<result name="signIn">/sign_in.jsp</result>
		</action>
		<action name="user_*" class="com.neusoft.action.UserAction" method="{1}">
			<interceptor-ref name="mystack"></interceptor-ref>
			<result name="sign_up">/sign_up.jsp</result>
			<result name="login">sign_in.jsp</result>
			<result name="{1}">/user_{1}.jsp</result>
		</action>
		<action name="admin_*" class="com.neusoft.action.UserAdminAction" method="{1}">
			<result name="success_admin">/admin_main.jsp</result>
			<result name="signUp">/sign_up.jsp</result>
			<result name="{1}">/user_{1}.jsp</result>
		</action>
		<!-- login action,no interceptor !!! -->
		<action name="companySignIn" class="com.neusoft.action.CompanyAction" method="signIn">		
			<result name="loginSuccess">/company_main.jsp</result>	
			<result name="sign_in">/sign_in.jsp</result>
		</action>
		<action name="company_*" class="com.neusoft.action.CompanyAction" method="{1}">	
			<interceptor-ref name="mystack"></interceptor-ref>
			<result name="loginSuccess">/company_main.jsp</result>	
			<result name="sign_in">/sign_in.jsp</result>
			<result name="login">sign_in.jsp</result>
			<result name="{1}">/company_{1}.jsp</result>
		</action>
	</package>
	<include file="creditCardStruts.xml"></include>
	<include file="accountStruts.xml"></include>
	<include file="Json.xml"></include>
</struts>    
